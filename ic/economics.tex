
Eliminating all forms of goal conflict requires an equilibrium that pushes production onto the \textit{utility possibilities frontier}, a curve that defines the maximum amount of utility that can be produced from the allocation of resources to the production of different combinations of goods and services. The relevant subfields in economics that describe the challenges in accomplish this are the parts that deal with welfare optimality and public choice theory, and the parts that deal with informational economics and mechanism design.

In the subfield of public choice theory, the pioneering work on welfare optimality was the publication of Vilfredo Pareto’s "Cours d'économie politique" (1896), which introduced the concept of pareto optimality. Pareto defined this state as one where resources are allocated so efficiently that it is impossible to improve overall social welfare by changing the way in which resources are allocated to the production of utility. Pareto optimality is thus the term used to describe the state of production as it exists on the \textit{utility possibilities frontier}.

From a mathematical perspective, Pareto optimality is achieved when the marginal utility derived from the last unit of each good purchased by each individual is proportional to its production cost. This implies that individuals are allocating their resources so as to maximize their utility -— essentially, every dollar is spent on whatever good or service provides the greatest marginal benefit. This allocation is considered individually rational and provides two important social critera demanded by \textit{TFMs}. First, mechanisms in a \textit{pareto optimality} equilibrium are free from conflicts involving self-interest since no party will unilaterally desire to pay a greater or lesser fee. Second, \textit{pareto optimality} has attractive collusion-proof properties: if no individual can reallocate his own resources without making himself worse off, no group of similar individuals can collude to do so without at least one member of the group suffering as a result. This eliminates all categories of user-user and producer-producer collusion.

If a \textit{pareto optimal} equilibrium provides a social choice rule that eliminates all forms of goal conflict motivated by \textit{self-interest}, it remains to ask whether such a \textit{pareto optimal} equillibria can be sustained in the presence of goal-conflict motivated \textit{free riding} pressures or \textit{strategic manipulation}?

The first question was asked by Samuelson (1954) when he observed that achieving optimal production levels is challenging for goods with non-excludable benefits. If users can lie about the utility they receive from such goods they can pay a lower fee themselves while enjoying the higher level of utility funded by contributions from their honest peers. It was Samuelson's mathematical demonstration of this problem -- that individual rationality subverted pareto optimality -- that led \citet{hurwicz1960optimality} to coin the term \textit{incentive compatibility} in reference to the opposite condition, the state in which the utility-maximizing behavior of individuals is \textit{compatible with} or leads emergently to the desired welfare condition referred to as \textit{social choice rule}.

\LARGE
\begin{adjustwidth}{1.5em}{1.5em}
\begin{math}
\sum_{i=1}^{s} \frac{u_a^i}{u_b^i} = \frac{F_a}{F_b}
\end{math}
\end{adjustwidth}
\normalsize

Samuelson's observation -- expressed in the equation for the \textit{utility possibilities frontier above} -- explains why free-rider pressures subvert \textit{pareto optimality}. Achieving \textit{pareto optimality} requires users to allocate resources in a proportion that keeps their costs in alignment with the utility they generate, yet the existence of non-excludable benefits creates rational pressures to defect. In \textit{TFMs} this desire to defect manifests in the form of side-contract payments. From the perspective of users, selling transactions to block producers gives producers the ability to collect fees without the need to compete so intently for the privilege. Producers happily accept a lower fee from users as restricting competition means less of their own income needs flow into the public security budget as the cost of collection. This form of collusion involves producers helping users free-ride on the contributions of other users to the collective security budget, as analogous to the classic free-rider in Samuelson's model.

On the producer side, side-contract payments permit block producers to free-ride on their peers as well. In this second case, producers offer users transaction-inclusion at suboptimal rates because private control of the transaction fee expands the producer's share of blocks committed to the longest-chain, allowing them to extract more income from any non-excludable payout like the block reward than they lose by subsidizing the user's transaction. Once again we have a situation analogous to Samuelson's model, except in this case the incentive to collude comes from producers and the incentive is to collect more in revenue not pay less in fees.

Understanding the two-sided nature of free-riding in \textit{TFMs} is critical for understanding why achieving \textit{pareto optimality} is so challenging in \textit{TFMs}. In the absence of this understanding, it is common to consider all forms of user-producer agreement as suboptimal. But this is not the case! If price negotiations between users and producers drive the cost of blockspace towards \textit{pareto optimal} levels without reducing the overall funding for public good provision, they technically shift the network into a more efficient equilibrium in which fee-throughput levels are \textit{pareto optimal} and \textit{goal conflict} motivated by \textit{self-interest} is minimized. It is also trivial to see that side-contract payments can never drive transaction fees below the cost of blockspace in the absence of public goods, as rational producers cannot sustainably accept transaction fees that are lower than their private cost of providing blockspace. 

The inability of proof-of-work and proof-of-stake designs to contain fundamental pressures to free-ride is a major cause of inefficiency and suboptimality in those networks and a fundamental cause of their inability to implement the \textit{pareto optimal} equilibrium necessary to eliminate goal conflict generally. As we shall see in our next section, these free-rider pressures are also responsible for a non-trivial number of impossibility results, since the techniques mechanism designers use to prevent other classes of goal conflict -- such as inducing truthful preference revelation through auction models that are intended to induce honest revelation of bidding preferences -- can contain adversarial forms of strategic manipulation but fail to prevent the sorts of cooperative attacks we see expressed through free-riding strategies.

Our first two classes of goal conflict are thus "self-interest" and "free-rider pressures". The first exists in mechanisms that lack \textit{pareto optimality} and can be solved only by designing mechanisms that implement that social choice rule. The second subverts the ability of mechanisms to achieve \textit{pareto optimality} and can only be rectified by eliminating the public goods that lurk within their incentive sub-structures. This leaves our third category of \textit{goal conflict}, the practice of \textit{strategic manipulation}, which is the focus of informational economics and mechanism design. 

To put the developments in this subfield of economics in historical context, it is useful to know that by the late 1950s and 1960s, the problems that Samuelson flagged regarding the efficient provision of public goods had become widely accepted in mainstream economics. Nonetheless, most economists still believed the production and trade of private goods under classical assumptions was more-or-less \textit{pareto optimal}. Or so they believed until 1972 when \citet{hurwicz1973design}, in his second great contribution to mechanism design, pointed out that similar problems also subvert the \textit{pareto optimal} provision of private goods in informationally decentralized mechanisms. 

The cause of the suboptimality Hurwicz identified came from the need for participants to exchange information as part of their price-discovery process. What Hurwicz observed by studying the informational nature of the algorithms that other economists had proposed to achieve \textit{pareto optimalitY} over time was that in any situation where agents could manipulate the informational environment they could theoretically induce others to strategically misallocate their own resources and frustrate the ability of any algorithm to approximate its intended outcome. The particular passage in Hurwicz's paper that points this out is worth quoting in full:

\begin{quote}
Economists have long been alerted to this issue by Samuelson (1954) in the context of the allocation problem for public goods. But, in fact, a similar problem arises in a "nonatomistic" world of pure exchange of exclusively private goods.... If [two parties] were both told to behave as price-takers it would pay one of them to violate this rule if he could get away with it. Now we assume that he cannot violate the rule openly, but he can "pretend" to have preferences different from his true ones. The question is whether he could think up for himself a false (but convex and monotone) preference map which would be more advantageous for him than his true one, assuming that he will follow the rules of price-taking according to the false map while the other trader plays the game honestly. It is easily shown that the answer is in the affirmative. Thus, in such a situation, the rules of perfect competition are not incentive-compatible.
\end{quote}

In this case, our form of goal conflict does not involve participants re-allocating their own resources (self-interest) or cooperating with others to exploit public goods (free-riding) but adversarially manipulating the informational environment to frustrate efficient price-discovery and induce others to misallocate their own resources, such as by paying a higher fee than would be necessary in a \textit{pareto optimal} equilibrium. In the context of \textit{TFMs}, we see this exploited whenever producers put their own fees into blocks, whenever users engage in bid-shading, or whenever any participants costlessly loop money around the chain to create fraudulent representations of the blockchain history designed to mislead others into suboptimal allocation strategies.

Awareness of these informational attacks is what led Hurwicz to develop his framework for studying \textit{incentive compatibility} and launch the subfield of mechanism design, which uses mathematical approaches to examine whether specific market structures (mechanisms) can achieve (implement) specific outcomes (social choice rules) in the presence of participants who make strategic decisions on the basis of private information. The informational nature of the problem -- reflected in the ability for participants to costlessly distort perceptions of the market -- is the reason "truthful revelation of preference" is considered such an attractive property in mechanism design, as it implies the mechanism is not vulnerable to this particularly category of goal conflict.

As an aside, since several papers on \textit{TFMs} declare \textit{incentive compatibility} impossible to achieve, it is useful to remember that Hurwicz never made this claim. As his student Eric Maskin later pointed out, such claims show a misunderstanding of the framework, since all mechanisms are by definition incentive compatible with their outcomes. What a failure of incentive compatibility means is that if private information is used as an input to form the strategies adopted by participants in any mechanism, then without an "incentive for truthfulness" those mechanisms cannot be assumed capable of implementing any social choice rule.

This point carries back to our discussion on the feasibility of implementing {pareto optimality} within a \textit{TFM}. For while Hurwicz is often misinterpreted as implying that the direct revelation of preferences is a pre-condition for achieving \textit{pareto optimality}, the truth is more nuanced -- market structures still exist which lack the problems Hurwicz identified with \textit{strategic manipulation}, the key exceptions being \textit{atomistic} markets characterized by perfect competition, markets in which the utility purchased varies with price paid, and markets lacking a pre-exchange messaging step. Eric Maskin, who would later win the Nobel Prize for his work on the revelation principle, confirmed Hurwicz's intuition when he found that \textit{pareto optimality} is possible in some market structures without the need for truthful preference revelation as an intermediary step.\citet{maskin1999nash}. His revelation principle also illustrates this in a more subtle way, by showing that a symmetry of outcomes must exist between mechanisms where information is computed in decomposable fashion using agent-level functions, and mechanisms where the exact same information is revealed truthfully and the computation is performed by a centralized mechanism in a non-decomposable fashion. As Maskin showed, if the centrally-computed outcome does not result in a Nash Equilibrium then the decomposable function cannot have one and at least one agent must be lying about their true preferences.

Maskin's work revealed a deeper truth: all incentive compatible mechanisms will induce the revelation of private information one way or the other, meaning that the difference between mechanisms is not whether they reveal user preferences so much as whether they reveal those preferences \textit{directly} or \textit{indirectly}. In direct mechanisms participants share their preferences truthfully in the pre-exchange negotiation step, allowing composable algorithms like auction mechanisms to calculate optimal allocation strategies and carry out the action step. In \textit{indirect} mechanisms participants reveal their preferences either obliquely in the price-discovery process (such as by negotiating for bundles of goods) or by skipping the price-discovery stage and simply submitting purchase orders directly onto the market.

Back on topic, since \textit{TFMs} are \textit{informationally decentralized} mechanisms that involve users and producers making strategic decisions on the basis different preferences for the allocation of resources within the mechanism, if our social choice rule is \textit{pareto optimality}, we cannot achieve it in any mechanism where participants can costlessly mislead others by manipulating any information necessary for developing optimal pricing strategies. If a mechanism permits block producers to costlessly include their own transactions in blocks we thus have \textit{de facto} grounds for concluding that incentive compatibility with \textit{pareto optimal} fee-throughput is impossible to achieve in that mechanism. What economics teaches us is that strategic manipulation can only be eliminated in mechanisms that make the inclusion of self-generated transactions costly, such that the decision by a block producer or user to include their own fees in a block reveals private information that the mechanism can exploit to shift its own provision into a more efficient equilibrium.

Hurwicz (1973) provides several other conditions any \textit{TFM} will need to meet in order to successfully implement \textit{pareto optimality}. The first is that one-shot mechanisms are insufficient, since algorithms with \textit{inertia} are required to iterate price levels into their optimal positions over time. This suggests that the information required to calculate the price of blockspace must be somehow calculable from the state of consensus rather than collected exclusively from peers. And as Jordan (1986) observes, some form of smoothing of costs or payouts is beneficial to prevent mechanisms from unpredictably oscillating around the desired equilibrium point. As we shall see in the next section, these requirements are also incompatible with the vast majority of papers attempting to model the feasibility of building a dream TFM, most of which model one-shot auctions whose payout mechanisms function without algorithmic smoothing.

In summary, our three types of goal conflict -- self-interest, free-riding, and strategic manipulation -- are distinct issues that affect most \textit{TFMs}. The first motivation can only be solved by building a mechanism that implements \textit{pareto optimality} as its social choice rule. But the second and third categories of goal conflict subvert the ability of mechanisms to achieve that highly efficient and collusion-proof equilibrium. Each type of goal conflict manifests as unique technical attacks involving different actors, different types of messaging, and targeting different steps in the operation of the consensus mechanism. And optimality cannot be achieved without eliminating all three. A block producer who floods the network with spam transactions to drive up fees is engaging in strategic manipulation. A threshold user who underbids in a Vickrey-Clarke-Groves auction is exhibiting self-interest. Users who conspire with producers to defund the security budget are free-riding on their non-colluding counterparts. All three classes must be eliminated to achieve an optimal \textit{TFM}, which is why is why achieving it is so difficult in practice.

With this economic framework in place for understanding the categories of problems \textit{TFMs} face and their underlying informational causes, in the following section we turn our attention to the existing literature on \textit{TFMs} in computer science, with the goal of showing why the impossibility results in these papers reflect the limitations of their models rather than the limits of what is possible in distributed systems.

